{"name": "test_galway_girl_youtube_result", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.TargetClosedError: Page.wait_for_selector: Target page, context or browser has been closed\nCall log:\n  - waiting for locator(\"div#search h3\") to be visible\n    - waiting for\" https://www.google.com/sorry/index?continue=https://www.google.com/search%3Fq%3DGalway%2BGirl%2Bsong%26sca_esv%3D633469e161d1facd%26source%3Dhp%26ei%3DFl-cabmdKs7A0-kP9dKhkQo%26iflsig%3DAFdpzrgAAAAAa…\" navigation to finish...\n    - navigated to \"https://www.google.com/sorry/index?continue=https://www.google.com/search%3Fq%3DGalway%2BGirl%2Bsong%26sca_esv%3D633469e161d1facd%26source%3Dhp%26ei%3DFl-cabmdKs7A0-kP9dKhkQo%26iflsig%3DAFdpzrgAAAAAa…\"", "trace": "def test_galway_girl_youtube_result():\n        with sync_playwright() as p:\n            # Use Microsoft Edge (Chromium-based) browser\n            # Edge executable path on Windows (adjust if installed elsewhere)\n            edge_path = r\"C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe\"\n            browser = p.chromium.launch(executable_path=edge_path, headless=False)\n            context = browser.new_context()\n            page = context.new_page()\n            try:\n                # 1. Open Google\n                page.goto(\"https://www.google.com\", timeout=20000)\n                # Accept cookies if prompted (handle both possible buttons and shadow DOM)\n                try:\n                    consent = page.locator('button:has-text(\"I agree\")')\n                    if consent.is_visible():\n                        consent.click()\n                except Exception:\n                    try:\n                        accept = page.locator('button:has-text(\"Accept all\")')\n                        if accept.is_visible():\n                            accept.click()\n                    except Exception:\n                        pass\n                # Try to close any additional overlays (e.g., region/language popups)\n                try:\n                    page.locator('button:has-text(\"No thanks\")').click(timeout=2000)\n                except Exception:\n                    pass\n                try:\n                    page.locator('button:has-text(\"Reject all\")').click(timeout=2000)\n                except Exception:\n                    pass\n                # Try to focus the page body (sometimes overlays block input)\n                try:\n                    page.locator('body').click(timeout=1000)\n                except Exception:\n                    pass\n    \n                # Print all input and textarea elements for debugging\n                inputs = page.locator('input, textarea')\n                input_count = inputs.count()\n                print(f\"\\nFound {input_count} input/textarea elements on the page.\")\n                for i in range(min(input_count, 10)):  # Limit to first 10 to avoid clutter\n                    try:\n                        html = inputs.nth(i).evaluate('el => el.outerHTML')\n                        print(f\"Input {i}: {html}\")\n                    except Exception as e:\n                        print(f\"Input {i}: Could not get HTML - {e}\")\n    \n                # Wait for any search box\n                found = False\n                for selector in [\n                    'input[name=\"q\"]',\n                    'input[title=\"Search\"]',\n                    'input[type=\"text\"]',\n                    'textarea[name=\"q\"]',\n                    'textarea[title=\"Search\"]',\n                ]:\n                    try:\n                        page.wait_for_selector(selector, timeout=4000)\n                        if page.locator(selector).is_visible():\n                            search_box = page.locator(selector)\n                            found = True\n                            print(f\"Found search box with selector: {selector}\")\n                            break\n                    except Exception:\n                        continue\n                if not found:\n                    raise AssertionError(\"Google search box not found. Possible overlay or region-specific consent dialog.\")\n    \n                # 2. Search for \"Galway Girl song\"\n                search_box.fill(\"Galway Girl song\")\n                search_box.press(\"Enter\")\n>               page.wait_for_selector('div#search h3', timeout=10000)\n\ngalway_girl.py:77: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv\\Lib\\site-packages\\playwright\\sync_api\\_generated.py:8182: in wait_for_selector\n    self._sync(\n.venv\\Lib\\site-packages\\playwright\\_impl\\_page.py:423: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv\\Lib\\site-packages\\playwright\\_impl\\_frame.py:369: in wait_for_selector\n    await self._channel.send(\n.venv\\Lib\\site-packages\\playwright\\_impl\\_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x00000286007FE690>\ncb = <function Channel.send.<locals>.<lambda> at 0x0000028600B03560>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TargetClosedError: Page.wait_for_selector: Target page, context or browser has been closed\nE           Call log:\nE             - waiting for locator(\"div#search h3\") to be visible\nE               - waiting for\" https://www.google.com/sorry/index?continue=https://www.google.com/search%3Fq%3DGalway%2BGirl%2Bsong%26sca_esv%3D633469e161d1facd%26source%3Dhp%26ei%3DFl-cabmdKs7A0-kP9dKhkQo%26iflsig%3DAFdpzrgAAAAAa…\" navigation to finish...\nE               - navigated to \"https://www.google.com/sorry/index?continue=https://www.google.com/search%3Fq%3DGalway%2BGirl%2Bsong%26sca_esv%3D633469e161d1facd%26source%3Dhp%26ei%3DFl-cabmdKs7A0-kP9dKhkQo%26iflsig%3DAFdpzrgAAAAAa…\"\n\n.venv\\Lib\\site-packages\\playwright\\_impl\\_connection.py:558: TargetClosedError"}, "start": 1771855636424, "stop": 1771855661477, "uuid": "69cdceae-bb46-4f6e-9f5e-a4fd822bfbae", "historyId": "99887620b6031ed8b61ab2cfda11468d", "testCaseId": "99887620b6031ed8b61ab2cfda11468d", "fullName": "galway_girl#test_galway_girl_youtube_result", "labels": [{"name": "suite", "value": "galway_girl"}, {"name": "host", "value": "DESKTOP-A5941F1"}, {"name": "thread", "value": "4748-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "galway_girl"}], "titlePath": ["galway_girl.py"]}